<!-- HTML header for doxygen 1.8.3.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<title>PLUMED: Lugano tutorial: Using PLUMED with LAMMPS</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<script>
   var redpath = "";
   
   function showPath(eg,name) {
     var i; var y = document.getElementsByName(redpath);
     for (i=0; i < y.length; i++ ) { y[i].style.color="black"; }
     var x = document.getElementsByName(name); redpath=name;
     for (i = 0; i < x.length; i++) { x[i].style.color="red"; }
     var valid="value_details_".concat(eg);
     var valueField = document.getElementById(valid);
     var dataField = document.getElementById(name);
     valueField.innerHTML = dataField.innerHTML;
   }
   function swapInput(name) {
     var btn = document.getElementById(name + "_button");
     var mydiv = document.getElementById("input_" + name);
     if( btn.textContent=="expand shortcuts" ) {
         btn.textContent = "contract shortcuts";
         var dataField = document.getElementById(name + "long");
         mydiv.innerHTML = dataField.innerHTML;
     } else if( btn.textContent=="contract shortcuts" ) {
         btn.textContent = "expand shortcuts";
         var dataField = document.getElementById(name + "short");
         mydiv.innerHTML = dataField.innerHTML;
     }
   }
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table align="center" frame="void" width="98%" cellpadding="2%">
<tbody>
<tr style="height: 30px;">
<td valign="center"> &nbsp; <img src="pigeon.png" width="120"/></td>
<td style="padding-left: 0.2em;" width="74%"> <a href="http://www.plumed.org"> <img src="logo.png" width="400" /> </td>
<td style="padding-left: 0.2em;" align="right"> <a href="../../developer-doc/html/index.html"> <img src="user-logo.png" width="180" /> </a> </td>
</tr>
</tbody>
</table>
<!--
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">PLUMED
   &#160;<span id="projectnumber">2.7b</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
-->
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('lugano-6a.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Lugano tutorial: Using PLUMED with LAMMPS </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="lugano-6a-aim"></a>
Aims</h1>
<p>In this tutorial I will show you how you can use PLUMED to perform a simulation in which a mixture of Lennard Jones particles are forced to separate and mix. You then will be encouraged to investigate how the work done during this process depends on the simulation parameters or the parameters that are used for the enhanced sampled algorithm. <br  />
</p>
<h1><a class="anchor" id="lugano-6a-lo"></a>
Objectives</h1>
<p>Once this tutorial is completed students will have used PLUMED coupled with LAMMPS to perform an investigation of their own design.</p>
<h1><a class="anchor" id="lugano-6a-resources"></a>
Resources</h1>
<p>The <span style="background-color:yellow"><a href="tutorial-resources/lugano-6a.tar.gz" style="font-weight:bold" style="color:green" download="lugano-6a.tar.gz">TARBALL</a> </span> for this project contains the following files:</p>
<ul>
<li>lammps-equilibration.in : The input for LAMMPS that we will use for our setup and equilibration steps of our investigation</li>
<li>lammps-production.in : The input for LAMMPS that will be used for the production steps of our investigation</li>
<li>xdistances.dat : A PLUMED file that defines the collective variables that we will use in the investigation. We will include this file in the PLUMED input files we write for this tutorial. <br  />
</li>
</ul>
<p>This tutorial has been tested on v2.5 but it should also work with other versions of PLUMED.</p>
<p>Also notice that the <code>.solutions</code> direction of the tarball contains correct input files for the exercises. Please only look at these files once you have tried to solve the problems yourself. Similarly the tutorial below contains questions for you to answer that are shown in bold. You can reveal the answers to these questions by clicking on links within the tutorial but you should obviously try to answer things yourself before reading these answers.</p>
<h1><a class="anchor" id="lugano-6a-intro"></a>
Introduction</h1>
<p>This tutorial is somewhat different to the others that you have done. The tutorial will show you how to run a simulation on a binary Lennard Jones system using PLUMED and LAMMPS. In this simulation the two types of atoms will be forced to separate and mix. You will then be encouraged to design your investigation to further investigate this phenomenon by means of simulation. There are a variety of different things you can investigate. You could investigate how the work done to separate the two components depends on the parameters of the Lennard Jones model or temperature, you could investigate whether you can reduce the amount of hysteresis that is observed with the current simulation parameters. You may even decide that the method proposed is not a particularly good way to investigate the phenomenon of phase separation and propose a different method for simulating the process.</p>
<h1><a class="anchor" id="lugano-6a-exercises"></a>
Exercises</h1>
<h2><a class="anchor" id="lugano-6a-installation"></a>
Installing LAMMPS with PLUMED</h2>
<p>You can find the instructions about how to install LAMMPS patched with PLUMED here:</p>
<pre class="fragment">https://github.com/plumed/conda#install-lammps
</pre><h2><a class="anchor" id="lugano-6a-setup-equilibration"></a>
Setting up the simulation and equilibrating</h2>
<p>We can now run a simulation with LAMMPS. If we take the input lammps-equilibration.in that we downloaded from the tarball we can run this simulation using the following commands:</p>
<pre class="fragment">touch plumed.dat
/Users/gareth/Plumed-tutorial/LAMMPS/lammps-5Jun19/build/lmp &lt; lammps-equil.in
</pre><p>(In the second command here you obviously need to specify the location where you compiled LAMMPS instead of the location where I compiled LAMMPS).</p>
<p>As you can see if you visualize the trajectory output.xyz that is generated by this simulation this input creates an initial configuration containing 1000 atoms. There are 500 Ar atoms and 500 Ne atoms and in the initial configuration all the Ne atoms are placed in one half of the simulation box while the Ar atoms are placed in the other half of the box. During the simulation you have just run you should observe that these two types of atom mix together as the system equilibrates. We are now going to run this simulation again but we will now use PLUMED to monitor the extent how the system comes to equilibrium. In particular, we are going to use a filled in version of the following input file to monitor the energy and the cell parameters over the course of the simulation:</p>

<div style="width: 90%; float:left" id="value_details_eg1"> Click on the labels of the actions for more information on what each action computes </div>
<div style="width: 10%; float:left"><img src="https://img.shields.io/badge/v2.7-incomplete-yellow.svg" alt="tested on v2.7" /></div><pre style="width: 97%;" class="fragment">
<span style="color:blue"># Specify that we are in natural units</span>
<a href="https://www.plumed.org/doc-v2.7/user-doc/html/_u_n_i_t_s.html" style="color:green">UNITS</a> <div class="tooltip">NATURAL<div class="right">( default=off ) use natural units <i></i></div></div> <span style="display:none;" id="eg1"> You cannot view the components that are calculated by each action for this input file. Sorry </span>
<span style="color:blue"># Retrieve the value of the potential energy</span>
<b name="eg1ee" onclick='showPath("eg1","eg1ee")'>ee: </b><a href="https://www.plumed.org/doc-v2.7/user-doc/html/_e_n_e_r_g_y.html" style="color:green">ENERGY</a> <span style="display:none;" id="eg1ee"> You cannot view the components that are calculated by each action for this input file. Sorry </span>
<span style="color:blue"># Retrieve the 3 cell vectors</span>
<b name="eg1cell" onclick='showPath("eg1","eg1cell")'>cell: </b><a href="https://www.plumed.org/doc-v2.7/user-doc/html/_c_e_l_l.html" style="color:green">CELL</a> <span style="display:none;" id="eg1cell"> You cannot view the components that are calculated by each action for this input file. Sorry </span>
<span style="color:blue"># Compute the square moduli of three cell vectors</span>
<b name="eg1aaa2" onclick='showPath("eg1","eg1aaa2")'>aaa2: </b><a href="https://www.plumed.org/doc-v2.7/user-doc/html/_c_o_m_b_i_n_e.html" style="color:green">COMBINE</a> <div class="tooltip">ARG<div class="right">the input for this action is the scalar output from one or more other actions. <i></i></div></div>=<b name="eg1cell">cell.ax</b>,<b name="eg1cell">cell.ay</b>,<b name="eg1cell">cell.az</b> <div class="tooltip">POWERS<div class="right"><b>compulsory keyword ( default=1.0 )</b>
the powers to which you are raising each of the arguments in your function <i></i></div></div>=2,2,2 <div class="tooltip">PERIODIC<div class="right"><b>compulsory keyword </b>
if the output of your function is periodic then you should specify the periodicity
of the function. <i></i></div></div>=NO <span style="display:none;" id="eg1aaa2"> You cannot view the components that are calculated by each action for this input file. Sorry </span>
<b name="eg1bbb2" onclick='showPath("eg1","eg1bbb2")'>bbb2: </b><a href="https://www.plumed.org/doc-v2.7/user-doc/html/_c_o_m_b_i_n_e.html" style="color:green">COMBINE</a> <div class="tooltip">ARG<div class="right">the input for this action is the scalar output from one or more other actions. <i></i></div></div>=<b name="eg1cell">cell.bx</b>,<b name="eg1cell">cell.by</b>,<b name="eg1cell">cell.bz</b> <div class="tooltip">POWERS<div class="right"><b>compulsory keyword ( default=1.0 )</b>
the powers to which you are raising each of the arguments in your function <i></i></div></div>=2,2,2 <div class="tooltip">PERIODIC<div class="right"><b>compulsory keyword </b>
if the output of your function is periodic then you should specify the periodicity
of the function. <i></i></div></div>=NO <span style="display:none;" id="eg1bbb2"> You cannot view the components that are calculated by each action for this input file. Sorry </span>
<b name="eg1ccc2" onclick='showPath("eg1","eg1ccc2")'>ccc2: </b><a href="https://www.plumed.org/doc-v2.7/user-doc/html/_c_o_m_b_i_n_e.html" style="color:green">COMBINE</a> <div class="tooltip">ARG<div class="right">the input for this action is the scalar output from one or more other actions. <i></i></div></div>=<b name="eg1cell">cell.cx</b>,<b name="eg1cell">cell.cy</b>,<b name="eg1cell">cell.cz</b> <div class="tooltip">POWERS<div class="right"><b>compulsory keyword ( default=1.0 )</b>
the powers to which you are raising each of the arguments in your function <i></i></div></div>=2,2,2 <div class="tooltip">PERIODIC<div class="right"><b>compulsory keyword </b>
if the output of your function is periodic then you should specify the periodicity
of the function. <i></i></div></div>=NO <span style="display:none;" id="eg1ccc2"> You cannot view the components that are calculated by each action for this input file. Sorry </span>
<span style="color:blue"># Compute the moduli of the three cell vectors</span>
<b name="eg1aaa" onclick='showPath("eg1","eg1aaa")'>aaa: </b><a href="https://www.plumed.org/doc-v2.7/user-doc/html/___f_i_l_l__.html" style="color:green">__FILL__</a> <span style="display:none;" id="eg1aaa"> You cannot view the components that are calculated by each action for this input file. Sorry </span>
<b name="eg1bbb" onclick='showPath("eg1","eg1bbb")'>bbb: </b><a href="https://www.plumed.org/doc-v2.7/user-doc/html/___f_i_l_l__.html" style="color:green">__FILL__</a> <span style="display:none;" id="eg1bbb"> You cannot view the components that are calculated by each action for this input file. Sorry </span>
<b name="eg1ccc" onclick='showPath("eg1","eg1ccc")'>ccc: </b><a href="https://www.plumed.org/doc-v2.7/user-doc/html/___f_i_l_l__.html" style="color:green">__FILL__</a> <span style="display:none;" id="eg1ccc"> You cannot view the components that are calculated by each action for this input file. Sorry </span>
<span style="color:blue"># Print the energy and the moduli of the three cell vectors</span>
<a href="https://www.plumed.org/doc-v2.7/user-doc/html/_p_r_i_n_t.html" style="color:green">PRINT</a> <div class="tooltip">ARG<div class="right">the input for this action is the scalar output from one or more other actions. <i></i></div></div>=<b name="eg1ee">ee</b>,<b name="eg1aaa">aaa</b>,<b name="eg1bbb">bbb</b>,<b name="eg1ccc">ccc</b> <div class="tooltip">FILE<div class="right">the name of the file on which to output these quantities <i></i></div></div>=colvar <div class="tooltip">STRIDE<div class="right"><b>compulsory keyword ( default=1 )</b>
the frequency with which the quantities of interest should be output <i></i></div></div>=10 <span style="display:none;" id="eg1"> You cannot view the components that are calculated by each action for this input file. Sorry </span>
</pre>
<p>Rerun the equilibration calculation that you just performed but with a plumed.dat file that now contains a filled-in version of the above input. You should observe that the energy and cell lengths that are output to the colvar file initially change substantially, which is normal as we are running in the NPT ensemble. After a while, however, these quantities equilibrate and then simply fluctuate around some fixed value.</p>
<h2><a class="anchor" id="lugano-6a-production"></a>
Simulating phase separation</h2>
<p>Having equilibrated our system lets now simulate phase separation. What we are going to do is force the Ne atoms to be in a different part of the simulation cell from the Ar atoms. We will thus force the system to be a un-mixed, two phase system from being a mixed, single-phase system. In other words, we are going to force the system to go back to a configuration much like the one that we started our simulation from. Before we get on to running the simulation, however, we are going to need to copy a few pieces to the directory. In particular, we need the following files:</p>
<ul>
<li>We need to start our simulation from the equilibrated configuration that we arrived in at the end of the simulation run that we have just performed. We can start in this why by copying the lammps restart file that was output from that simulation: lj.equilibration.restart.100000</li>
<li>We need the lammps input file called lammps-production.in that we obtained from the tarball that we downloaded at the beginning of the exercise</li>
<li>We need the PLUMED file called xdistances.dat that we downloaded from the tar ball. This file defines one virtual atom and three collective variables and looks something like the following:</li>
</ul>

<div style="width: 90%; float:left" id="value_details_eg2"> Click on the labels of the actions for more information on what each action computes </div>
<div style="width: 10%; float:left"><img src="https://img.shields.io/badge/v2.7-passing-green.svg" alt="tested on v2.7" /></div><pre style="width: 97%;" class="fragment">
<b name="eg2origin" onclick='showPath("eg2","eg2origin")'>origin: </b><a href="https://www.plumed.org/doc-v2.7/user-doc/html/_f_i_x_e_d_a_t_o_m.html" style="color:green">FIXEDATOM</a> <div class="tooltip">AT<div class="right"><b>compulsory keyword </b>
coordinates of the virtual atom <i></i></div></div>=0,0,0 <span style="display:none;" id="eg2origin">The FIXEDATOM action with label <b>origin</b> calculates the position of a virtual atom</span>
<b name="eg2dx" onclick='showPath("eg2","eg2dx")'>dx: </b><a href="https://www.plumed.org/doc-v2.7/user-doc/html/_x_d_i_s_t_a_n_c_e_s.html" style="color:green">XDISTANCES</a> ...
   <div class="tooltip">ATOMS1<div class="right">the atoms involved in each of the distances you wish to calculate. <i></i></div></div>=1,<b name="eg2origin">origin</b> 
   <div class="tooltip">ATOMS2<div class="right">the atoms involved in each of the distances you wish to calculate. <i></i></div></div>=2,<b name="eg2origin">origin</b> 
   <div class="tooltip">BETWEEN<div class="right">calculate the number of values that are within a certain range. <i></i></div></div>={GAUSSIAN LOWER=0 UPPER=5.4373815 SMEAR=0.1}  
...<span style="display:none;" id="eg2dx">The XDISTANCES action with label <b>dx</b> calculates a single scalar value</span>
<b name="eg2da" onclick='showPath("eg2","eg2da")'>da: </b><a href="https://www.plumed.org/doc-v2.7/user-doc/html/_x_d_i_s_t_a_n_c_e_s.html" style="color:green">XDISTANCES</a> ...
   <div class="tooltip">ATOMS1<div class="right">the atoms involved in each of the distances you wish to calculate. <i></i></div></div>=1,<b name="eg2origin">origin</b> 
   <div class="tooltip">ATOMS2<div class="right">the atoms involved in each of the distances you wish to calculate. <i></i></div></div>=2,<b name="eg2origin">origin</b> 
   <div class="tooltip">ATOMS3<div class="right">the atoms involved in each of the distances you wish to calculate. <i></i></div></div>=3,<b name="eg2origin">origin</b> 
   <div class="tooltip">ATOMS4<div class="right">the atoms involved in each of the distances you wish to calculate. <i></i></div></div>=4,<b name="eg2origin">origin</b> 
   <div class="tooltip">BETWEEN1<div class="right">calculate the number of values that are within a certain range. <i></i></div></div>={GAUSSIAN LOWER=0 UPPER=5.4373815 SMEAR=0.1}  
   <div class="tooltip">BETWEEN2<div class="right">calculate the number of values that are within a certain range. <i></i></div></div>={GAUSSIAN LOWER=-5.4373815 UPPER=0 SMEAR=0.1}  
...<span style="display:none;" id="eg2da">The XDISTANCES action with label <b>da</b> calculates the following quantities:
<table  align="center" frame="void" width="95%%" cellpadding="5%%">
<tr><td width="5%%"><b> Quantity </b>  </td><td><b> Description </b> </td></tr>
<tr><td width="5%%">da.between-1</td><td>the number/fraction of values within a certain range. This is calculated using one of the formula described in the description of the keyword so as to make it continuous. You can calculate this quantity multiple times using different parameters.  This is the 1th of these quantities</td></tr><tr><td width="5%%">da.between-2</td><td>the number/fraction of values within a certain range. This is calculated using one of the formula described in the description of the keyword so as to make it continuous. You can calculate this quantity multiple times using different parameters.  This is the 2th of these quantities</td></tr></table>
</span>
</pre>
<p>(In the actual file there are 500 ATOMS keywords in the first XDISTANCES command and 1000 ATOMS keywords in the second XDISTANCES command, however, which is why I have not shown the whole file.)</p>
<p>These XDISTANCES commands compute the x-component of the vector connecting the pair of specified atom. The BETWEEN keywords then specify that we want to calculate how many of these x-components are between a particular lower and upper bound. In this particular case, the FIXEDATOM is placed at the origin (center) of the simulation cell and the CVs monitor how many of the x-components of the vector connecting the origin and each atom are positive and how many are negative. We thus divide the box into equally sized regions and count how many atoms are in each of these regions. To this correctly, however, you have to ensure that the parameters for the BETWEEN keywords are set correctly. Wherever you see 5.4373815 in the input file you need to replace this value by half the simulation box length that you will use for these production calculations. You can get the simulation box for the initial configuration (the final configuration from the equilibration simulation) from the colvar file that was output from your equilibration simulation. You simply need to look at the value that this quantity took in the last line of the colvar file. This quantity will stay fixed throughout your simulation as in this production run we are going to use the NVT ensemble.</p>
<p>With these modifications in place lets now look at the PLUMED input file we are going to use for this calculation:</p>

<div style="width: 90%; float:left" id="value_details_eg3"> Click on the labels of the actions for more information on what each action computes </div>
<div style="width: 10%; float:left"><img src="https://img.shields.io/badge/v2.7-incomplete-yellow.svg" alt="tested on v2.7" /></div><pre style="width: 97%;" class="fragment">
<a href="https://www.plumed.org/doc-v2.7/user-doc/html/_u_n_i_t_s.html" style="color:green">UNITS</a> <div class="tooltip">NATURAL<div class="right">( default=off ) use natural units <i></i></div></div> <span style="display:none;" id="eg3"> You cannot view the components that are calculated by each action for this input file. Sorry </span>
<span style="color:blue"># Include the file that defines our collective variable</span>
<a href="https://www.plumed.org/doc-v2.7/user-doc/html/_i_n_c_l_u_d_e.html" style="color:green">INCLUDE</a> <div class="tooltip">FILE<div class="right"><b>compulsory keyword </b>
file to be included <i></i></div></div>=<span style="background-color:yellow">__FILL__</span> <span style="display:none;" id="eg3"> You cannot view the components that are calculated by each action for this input file. Sorry </span>
<span style="color:blue"># Add a restraint that ensures that the number of atoms in the left part of the box stays the same as the number of atoms</span>
<span style="color:blue"># in the right part of the box</span>
<b name="eg3ccc" onclick='showPath("eg3","eg3ccc")'>ccc: </b><a href="https://www.plumed.org/doc-v2.7/user-doc/html/_c_u_s_t_o_m.html" style="color:green">CUSTOM</a> <div class="tooltip">ARG<div class="right">the input for this action is the scalar output from one or more other actions. <i></i></div></div>=<span style="background-color:yellow">__FILL__</span> <div class="tooltip">FUNC<div class="right"><b>compulsory keyword </b>
the function you wish to evaluate <i></i></div></div>=x-y <div class="tooltip">PERIODIC<div class="right"><b>compulsory keyword </b>
if the output of your function is periodic then you should specify the periodicity
of the function. <i></i></div></div>=NO <span style="display:none;" id="eg3ccc"> You cannot view the components that are calculated by each action for this input file. Sorry </span>
<a href="https://www.plumed.org/doc-v2.7/user-doc/html/_r_e_s_t_r_a_i_n_t.html" style="color:green">RESTRAINT</a> <div class="tooltip">ARG<div class="right">the input for this action is the scalar output from one or more other actions. <i></i></div></div>=<b name="eg3ccc">ccc</b> <div class="tooltip">AT<div class="right"><b>compulsory keyword </b>
the position of the restraint <i></i></div></div>=0.0 <div class="tooltip">KAPPA<div class="right"><b>compulsory keyword ( default=0.0 )</b>
specifies that the restraint is harmonic and what the values of the force constants
on each of the variables are <i></i></div></div>=10 <span style="display:none;" id="eg3"> You cannot view the components that are calculated by each action for this input file. Sorry </span>
<span style="color:blue"># Add a moving restraint that forces the Ar atoms (1-500) to separate from the Ne atoms and to then mix again with the Ne atoms</span>
<b name="eg3res" onclick='showPath("eg3","eg3res")'>res: </b><a href="https://www.plumed.org/doc-v2.7/user-doc/html/_m_o_v_i_n_g_r_e_s_t_r_a_i_n_t.html" style="color:green">MOVINGRESTRAINT</a> <div class="tooltip">ARG<div class="right">the input for this action is the scalar output from one or more other actions. <i></i></div></div>=<span style="background-color:yellow">__FILL__</span> <div class="tooltip">AT0<div class="right"><b>compulsory keyword </b>
AT\f$x\f$ is equal to the position of the restraint at time STEP\f$x\f$. <i></i></div></div>=230 <div class="tooltip">AT1<div class="right"><b>compulsory keyword </b>
AT\f$x\f$ is equal to the position of the restraint at time STEP\f$x\f$. <i></i></div></div>=450 <div class="tooltip">AT2<div class="right"><b>compulsory keyword </b>
AT\f$x\f$ is equal to the position of the restraint at time STEP\f$x\f$. <i></i></div></div>=230 <div class="tooltip">KAPPA0<div class="right"><b>compulsory keyword </b>
KAPPA\f$x\f$ is equal to the value of the force constants at time STEP\f$x\f$. <i></i></div></div>=100 <div class="tooltip">STEP0<div class="right"><b>compulsory keyword </b>
This keyword appears multiple times as STEP\f$x\f$ with x=0,1,2,...,n. <i></i></div></div>=0 <div class="tooltip">STEP1<div class="right"><b>compulsory keyword </b>
This keyword appears multiple times as STEP\f$x\f$ with x=0,1,2,...,n. <i></i></div></div>=50000 <div class="tooltip">STEP2<div class="right"><b>compulsory keyword </b>
This keyword appears multiple times as STEP\f$x\f$ with x=0,1,2,...,n. <i></i></div></div>=100000 <span style="display:none;" id="eg3res"> You cannot view the components that are calculated by each action for this input file. Sorry </span>
<a href="https://www.plumed.org/doc-v2.7/user-doc/html/_p_r_i_n_t.html" style="color:green">PRINT</a> <div class="tooltip">ARG<div class="right">the input for this action is the scalar output from one or more other actions. <i></i></div></div>=da.*,dx.between,<b name="eg3res">res.*</b> <div class="tooltip">FILE<div class="right">the name of the file on which to output these quantities <i></i></div></div>=colvar <div class="tooltip">STRIDE<div class="right"><b>compulsory keyword ( default=1 )</b>
the frequency with which the quantities of interest should be output <i></i></div></div>=10 <span style="display:none;" id="eg3"> You cannot view the components that are calculated by each action for this input file. Sorry </span>
</pre>
<p>Fill in the blanks in the input above and then try to run the simulation. You should see as the simulation progresses the Ne and Ar atoms un-mix into two separate phases. They then remix and by the end of the simulation there is only one phase once more.</p>
<h1><a class="anchor" id="lugano-6a-conclusions"></a>
Conclusions</h1>
<p>This tutorial has shown you how you can run a simulation in which an interesting physical phenomenon is forced to occur. The phenomenon in question is phase separation - the simulation was started from a mixed phase of Ar and Ne. These two chemical components were then forced to separate during the simulation and a two phase system was formed with all the Ne atoms in one part of the simulation box and all the Ar atoms in the other part of the box. Your task is now to investigate this phenomenon further. Some questions you might want to ask yourself as you design your investigation are the following:</p>
<ul>
<li>How do you get a quantitative estimate of the energetic cost for performing the phase separation reaction?</li>
<li>How does this energetic cost depend on the simulation parameters e.g. ratio of Ar/Ne, temperature, pressure?</li>
<li>How does this energetic cost depend on the ratio of force field parameters?</li>
<li>Is the method that you were taught in this tutorial the best method for studying this process? What other methods might we use to investigate phase separation? </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.3.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
<!--    <li class="navelem"><a class="el" href="tutorials.html">Tutorials</a></li>  -->
    <li class="footer">   <!--- Generated by -->
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
